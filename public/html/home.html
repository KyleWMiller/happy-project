<div class="paperBorder white-text" ng-controller="easypostController as epc">
    <div class="row">
        <!-- To Address Form -->
        <div class="toTile tileBackground z-depth-2" ng-controller="countrySelector as cs">
            <h4 class="grey-text text-darken-2">To</h4>
            <!-- <a class="waves-effect waves-light btn col l4 offset-l7 buttonBackground verifyGreen right" ng-click="epc.sendTAddress()">Verify</a> -->
            <form>
                <div class="col s12">
                    <input ng-model="epc.tAddress.name" type="text" placeholder="Company/Name">
                </div>
                <div class="col s12">
                    <input ng-model="epc.tAddress.street1" type="text" placeholder="Street 1">
                </div>
                <div class="col s12">
                    <input ng-model="epc.tAddress.street2" type="text" placeholder="Street 2">
                </div>
                <div class="col s6">
                    <input ng-model="epc.tAddress.city" type="text" placeholder="City">
                </div>
                <div class="col s6">
                    <input ng-model="epc.tAddress.state" type="text" placeholder="State">
                </div>
                <div class="col s6">
                    <input ng-model="epc.tAddress.zip" type="text" placeholder="Postal Code">
                </div>
                <div class="col s6" id="country">
                    <select ng-model="epc.tAddress.country">
                      <option value="" disabled selected>--Select Country--</option>
                      <option ng-repeat="country in cs.countryArr" value="{{country}}">{{country}}</option>
                    </select>
                </div>
                <div class="col s12">
                    <input ng-model="epc.tAddress.phone" type="text" placeholder="Phone">
                </div>
                <div class="col s12">
                    <input ng-model="epc.tAddress.email" type="text" placeholder="Email">
                </div>
                <div class="right-align">
                </div>
            </form>
        </div>

        <!-- From Address Form -->
        <div class="fromTile tileBackground z-depth-2">
            <h4 class="grey-text text-darken-2">From</h4>
            <a class="waves-effect waves-light btn buttonBackground updateBlue col l4 right" ng-click="epc.sendFAddress()" ng-init="epc.sendFAddress()">Update</a>

            <form>
                <div class="col s12">
                    <input type="text" ng-model="epc.fAddress.company">
                </div>
                <div class="col s12">
                    <input type="text" ng-model="epc.fAddress.street1">
                </div>
                <div class="col s12">
                    <input type="text" placeholder="Street 2" ng-model="epc.fAddress.street2">
                </div>
                <div class="col s6">
                    <input type="text" ng-model="epc.fAddress.city">
                </div>
                <div class="col s6">
                    <input type="text" ng-model="epc.fAddress.state">
                </div>
                <div class="col s6">
                    <input type="text" ng-model="epc.fAddress.zip">
                </div>
                <div class="col s6">
                    <input type="text" ng-model="epc.fAddress.country">
                </div>
                <div class="col s12">
                    <input type="text" ng-model="epc.fAddress.phone">
                </div>
                <div class="col s12">
                    <input type="text" ng-model="epc.fAddress.email">
                </div>
            </form>
        </div>

    </div>

    <div class="row">
        <div class="productsTile tileBackground z-depth-2">
            <h4 class="grey-text text-darken-2">Products</h4>
            <script type="text/javascript">
                $(document).ready(function() {
                    $('select').material_select()
                })
            </script>

            <!-- **************************************************** -->
            <!-- Selects for adding box size and products to shipment -->
            <!-- **************************************************** -->
            <div class="col s12">
                <div class="col s5" id="pSelect">
                    <select class="col s6 offset-s1" ng-click="epc.selectBox()" ng-options="parcel as parcel.size for parcel in epc.parcels" ng-model="epc.box">
                        <option value="" selected disabled>--Select Box--</option>
                    </select>
                    <a id="plus" class="btn-floating waves-effect waves-light btn buttonBackground" ng-click="epc.selectBox()"><i class="material-icons">add</i></a>
                </div>

                <div class="col s6" id="pSelect">
                    <select class="col s6" ng-options="product as product.item for product in epc.products" ng-model="epc.item">
                        <option value="" selected disabled>--Select Product--</option>
                    </select>
                    <a id="plus" class="btn-floating waves-effect waves-light btn buttonBackground" ng-click="epc.addProduct()"><i class="material-icons">add</i></a>
                </div>
            </div>

            <!-- **************************************************** -->
            <!-- Display to show staged box and products to be added  -->
            <!-- **************************************************** -->
            <div class="col s12" id="box">
                <h6>Package</h6>
                <p id="b">
                    Box : <span ng-click="epc.removeBox()">{{epc.shipmentItem.package.size}}</span>
                </p>
                <p>
                    Product(s) : <span id="prePackageInfo" ng-repeat="product in epc.shipmentItem.itemArray"><span ng-click="epc.removeItem($index)">{{product.item}}</span>
                </p>

            </div>
            <div class="col s12 center">
                <a class="waves-effect waves-light btn buttonBackground createGreen" ng-click="epc.addPackage(epc.shipmentItem)">Add to Shipment</a>
            </div>

            <!-- **************************************************** -->
            <!-- Display for package(s) inside shipmentArray -->
            <!-- **************************************************** -->
            <div class="col s12">
                <h5 class="grey-text text-darken-2">Shipment</h5>
                <div ng-repeat="shipment in epc.shipmentArray">
                    <div class="col s10 offset-s1" id="shipmentItem">
                        <a id="trash" class="btn-floating waves-effect waves-light btn buttonBackground right" ng-click="epc.removePackage($index)"><i class="material-icons">delete</i></a>
                        <div class="col s4">
                            <p>
                                <h6>BOX SIZE: {{shipment.package.size}}</h6>
                            </p>
                        </div>
                        <div class="col s6">
                            <div class="col s3 offset-s2">
                                <p>
                                    <h6>WEIGHT: </h6>
                                </p>
                            </div>
                            <div class="col s6">
                                <input id="shipmentWeight" class="center-align" type="text" ng-model="shipment.package.dimentions.weight">
                                <label for="shipmentWeight">oz</label>
                            </div>
                        </div>
                        <div class="col s3 center-align" ng-repeat="product in shipment.itemArray">
                            <p id="postPackageItem">{{product.item}}</p>
                        </div>

                        <div class="col s12">
                            <div class="col s3" id="verify">
                                <a class="waves-effect waves-light btn buttonBackground col s12 center" ng-click="epc.sendParcel(shipment)">{{epc.verify}}</a>

                            </div>
                            <div class="col s7 offset-s2">
                                <a class="waves-effect waves-light btn buttonBackground createGreen col s12 center" ng-click="epc.createShipment(shipment)">Create Shipment</a>
                            </div>
                        </div>

                    </div>
                </div>
            </div>


        </div>

        <!-- Customs Form -->
        <div class="customsTile tileBackground z-depth-2">
            <h5 class="grey-text text-darken-2">Customs Signer</h5>
            <form id="customs">
                <div class="col s12">
                    <input type="text" placeholder="Name" ng-model="epc.customsInfo.customs_signer">
                </div>
            </form>
        </div>

    </div>
    <!-- <div class="row">
        <div class="createTile center-align">
            <a class="waves-effect waves-light btn-large buttonBackground createGreen" ng-click="epc.createShipment()">Create Shipment</a>
        </div>
    </div> -->

    <div class="row">
        <div class="rateTile tileBackground z-depth-2">
            <h5 class="grey-text text-darken-2">Rates</h5>
            <div class="col s12">
                <div class="col s3">
                    <h6 class="center">Carrier</h6>
                </div>
                <div class="col s3">
                    <h6 class="center">Est. Delivery Date</h6>
                </div>
                <div class="col s3">
                    <h6 class="center">$ Rate</h6>
                </div>
                <div class="col s3">
                    <p class="hidden">Waldo was here</p>
                </div>
            </div>
            <div class="col s12" ng-repeat=" rate in epc.rts">
                <div class="col s3">
                    <p class="center">
                        <span>{{rate.carrier}}</span>
                        <span>{{rate.service}}</span>
                    </p>
                </div>
                <div class="col s3">
                    <p class="center">{{rate.delivery_date}}</p>
                    <p ng-if="rate.delivery_date === null"></p>
                </div>
                <div class="col s3">
                    <p class="center">${{rate.rate}}</p>
                </div>
                <div class="col s3 center-align">
                    <a class="waves-effect waves-light btn buttonBackground super" ng-click="epc.purchase(rate.id)">Purchase</a>
                    <input class="hidden" ng-model="rate.id">
                </div>

            </div>
        </div>

        <div class="labelTile tileBackground z-depth-2">
            <h5 class="grey-text text-darken-2">Label</h5>
            <!-- <div class="col l12">
              {{epc.label}}
            </div> -->
            <div id="label" class="col s12">
                <h6>Tracking #: {{epc.label.tracker.tracking_code}}</h6>
            </div>
            <div id="label" class="col s12">
                <a target="_blank" ng-href="{{epc.label.postage_label.label_url}}" class="waves-effect waves-light btn buttonBackground col s12">Label</a>
            </div>
            <div id="label" class="col s12">
                <a target="_blank" ng-href="{{epc.label.forms[0].form_url}}" class="waves-effect waves-light btn buttonBackground col s12">Commercial Invoice</a>
            </div>
            <div id="label" class="col s12">
                <a target="_blank" ng-href="{{epc.label.tracker.public_url}}" class="waves-effect waves-light btn buttonBackground col s12">EasyPost Tracking</a>
            </div>
        </div>
    </div>
</div>
